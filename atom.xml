<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>kiddoliu&#39;s</title>
  
  
  <link href="http://kiddoliu.github.io/atom.xml" rel="self"/>
  
  <link href="http://kiddoliu.github.io/"/>
  <updated>2025-06-24T11:40:58.352Z</updated>
  <id>http://kiddoliu.github.io/</id>
  
  <author>
    <name>kiddoliu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JVM优化</title>
    <link href="http://kiddoliu.github.io/2025/06/24/Untitled/"/>
    <id>http://kiddoliu.github.io/2025/06/24/Untitled/</id>
    <published>2025-06-24T11:37:00.000Z</published>
    <updated>2025-06-24T11:40:58.352Z</updated>
    
    <content type="html"><![CDATA[<p>jvm优化<br>jvm核心指标<br>jvm.gc.time：每分钟的GC耗时在1s以内，500ms以内尤佳<br>jvm.gc.meantime：每次YGC耗时在100ms以内，50ms以内尤佳<br>jvm.fullgc.count：FGC最多几小时1次，1天不到1次尤佳<br>jvm.fullgc.time：每次FGC耗时在1s以内，500ms以内尤佳<br>JVM优化步骤<br>1 CPU指标</p><p>查看占用CPU最多的进程<br>查看占用CPU最多的线程<br>查看线程堆栈快照信息<br>分析代码执行热点<br>查看哪个代码占用CPU执行时间最长<br>查看每个方法占用CPU时间比例<br>&#x2F;&#x2F; 显示系统各个进程的资源使用情况<br>top<br>&#x2F;&#x2F; 查看某个进程中的线程占用情况<br>top -Hp pid<br>&#x2F;&#x2F; 查看当前 Java 进程的线程堆栈信息<br>jstack pid<br>常见的工具：JProfiler、JVM Profiler、Arthas等。</p><p>2 JVM 内存指标</p><p>查看当前 JVM 堆内存参数配置是否合理<br>查看堆中对象的统计信息<br>查看堆存储快照，分析内存的占用情况<br>查看堆各区域的内存增长是否正常<br>查看是哪个区域导致的GC<br>查看GC后能否正常回收到内存<br>&#x2F;&#x2F; 查看当前的 JVM 参数配置<br>ps -ef | grep java<br>&#x2F;&#x2F; 查看 Java 进程的配置信息，包括系统属性和JVM命令行标志<br>jinfo pid<br>&#x2F;&#x2F; 输出 Java 进程当前的 gc 情况<br>jstat -gc pid<br>&#x2F;&#x2F; 输出 Java 堆详细信息<br>jmap -heap pid<br>&#x2F;&#x2F; 显示堆中对象的统计信息<br>jmap -histo:live pid<br>&#x2F;&#x2F; 生成 Java 堆存储快照dump文件<br>jmap -F -dump:format&#x3D;b,file&#x3D;dumpFile.phrof pid<br>常见的工具：Eclipse MAT、JConsole等。</p><p>3 JVM GC指标</p><p>查看每分钟GC时间是否正常<br>查看每分钟YGC次数是否正常<br>查看FGC次数是否正常<br>查看单次FGC时间是否正常<br>查看单次GC各阶段详细耗时，找到耗时严重的阶段<br>查看对象的动态晋升年龄是否正常<br>JVM 的 GC指标一般是从 GC 日志里面查看，默认的 GC 日志可能比较少，我们可以添加以下参数，来丰富我们的GC日志输出，方便我们定位问题。<br>GC日志常用 JVM 参数：</p><p>&#x2F;&#x2F; 打印GC的详细信息<br>-XX:+PrintGCDetails<br>&#x2F;&#x2F; 打印GC的时间戳<br>-XX:+PrintGCDateStamps<br>&#x2F;&#x2F; 在GC前后打印堆信息<br>-XX:+PrintHeapAtGC<br>&#x2F;&#x2F; 打印Survivor区中各个年龄段的对象的分布信息<br>-XX:+PrintTenuringDistribution<br>&#x2F;&#x2F; JVM启动时输出所有参数值，方便查看参数是否被覆盖<br>-XX:+PrintFlagsFinal<br>&#x2F;&#x2F; 打印GC时应用程序的停止时间<br>-XX:+PrintGCApplicationStoppedTime<br>&#x2F;&#x2F; 打印在GC期间处理引用对象的时间（仅在PrintGCDetails时启用）<br>-XX:+PrintReferenceGC<br>确定优化目标<br>定位出系统瓶颈后，在优化前先制定好优化的目标是什么，例如：</p><p>将FGC次数从每小时1次，降低到1天1次<br>将每分钟的GC耗时从3s降低到500ms<br>将每次FGC耗时从5s降低到1s以内</p><p>制订优化方案<br>常见方案</p><p>代码bug：升级修复bug。典型的有：死循环、使用无界队列<br>不合理的JVM参数配置：优化 JVM 参数配置。典型的有：年轻代内存配置过小、堆内存配置过小、元空间配置过小。<br>对比优化前后的指标，统计优化效果<br>持续观察和跟踪优化效果<br>实战：<br>服务环境：ParNew + CMS + JDK8</p><p>问题现象：服务频繁出现FGC</p><p>原因分析：<br>1 首先查看GC日志，发现出现FGC的原因是metaspace空间不够<br>对应GC日志：</p><p>Full GC (Metadata GC Threshold)<br>2 进一步查看日志发现元空间存在内存碎片化现象<br>对应GC日志：</p><p>Metaspace       used 35337K, capacity 56242K, committed 56320K, reserved 1099776K<br>used ：已使用的空间大小<br>capacity：当前已经分配且未释放的空间容量大小<br>committed：当前已经分配的空间大小<br>reserved：预留的空间大小</p><p>元空间的分配以 chunk 为单位，当一个 ClassLoader 被垃圾回收时，所有属于它的空间（chunk）被释放，此时该 chunk 称为 Free Chunk，而 committed chunk 就是 capacity chunk 和 free chunk 之和。</p><p>之所以说内存存在碎片化现象就是根据 used 和 capacity 的数据得来的，上面说了元空间的分配以 chunk 为单位，即使一个 ClassLoader 只加载1个类，也会独占整个 chunk，所以当出现 used 和 capacity 两者之差较大的时候，说明此时存在内存碎片化的情况。<br>元空间主要适用于存放类的相关信息，而存在内存碎片化说明很可能创建了较多的类加载器，同时使用率较低。</p><p>因此，当元空间出现内存碎片化时，我们会着重关注是不是创建了大量的类加载器。</p><p>3 通过 dump 堆存储文件发现存在大量 DelegatingClassLoader<br>通过进一步分析，发现是由于反射导致创建大量 DelegatingClassLoader。其核心原理如下：</p><p>在 JVM 上，最初是通过 JNI 调用来实现方法的反射调用，当 JVM 注意到通过反射经常访问某个方法时，它将生成字节码来执行相同的操作，称为膨胀（inflation）机制。如果使用字节码的方式，则会为该方法生成一个 DelegatingClassLoader，如果存在大量方法经常反射调用，则会导致创建大量 DelegatingClassLoader。</p><p>反射调用频次达到多少才会从 JNI 转字节码？</p><p>默认是15次，可通过参数 -Dsun.reflect.inflationThreshold 进行控制，在小于该次数时会使用 JNI 的方式对方法进行调用，如果调用次数超过该次数就会使用字节码的方式生成方法调用。</p><p>分析结论：反射调用导致创建大量 DelegatingClassLoader，占用了较大的元空间内存，同时存在内存碎片化现象，导致元空间利用率不高，从而较快达到阈值，触发 FGC。</p><p>优化策略：</p><p>1）适当调大 metaspace 的空间大小。</p><p>2）优化不合理的反射调用。例如最常见的属性拷贝工具类 BeanUtils.copyProperties 可以使用 mapstruct 替换。</p><p>总结：<br>1，首先表态如果使用合理的 JVM 参数配置，在大多数情况应该是不需要调优的<br>2，其次说明可能还是存在少量场景需要调优，我们可以对一些 JVM 核心指标配置监控告警，当出现波动时人为介入分析评估<br>3，最后举一个实际的调优例子来加以说明</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;jvm优化&lt;br&gt;jvm核心指标&lt;br&gt;jvm.gc.time：每分钟的GC耗时在1s以内，500ms以内尤佳&lt;br&gt;jvm.gc.meantime：每次YGC耗时在100ms以内，50ms以内尤佳&lt;br&gt;jvm.fullgc.count：FGC最多几小时1次，1天不到1次</summary>
      
    
    
    
    
    <category term="JVM" scheme="http://kiddoliu.github.io/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>lombok使用总结</title>
    <link href="http://kiddoliu.github.io/2025/06/17/lombok%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"/>
    <id>http://kiddoliu.github.io/2025/06/17/lombok%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/</id>
    <published>2025-06-17T14:53:00.000Z</published>
    <updated>2025-06-17T15:05:59.798Z</updated>
    
    <content type="html"><![CDATA[<p>lombok使用</p><div class="toc"><!-- toc --><ul><li><a href="#ji-ben-zhu-jie">基本注解</a><ul><li><a href="#getter">@Getter</a></li><li><a href="#setter">@Setter</a></li><li><a href="#tostring">@ToString</a></li></ul></li></ul><!-- tocstop --></div><h2><span id="ji-ben-zhu-jie">基本注解</span><a href="#ji-ben-zhu-jie" class="header-anchor">#</a></h2><h3><span id="getter">@Getter</span><a href="#getter" class="header-anchor">#</a></h3><p>为类中的每个字段生成公共 getter 方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;    </span><br><span class="line"><span class="meta">@Getter</span> <span class="keyword">private</span> String name;    </span><br><span class="line">    <span class="meta">@Getter</span> <span class="keyword">private</span> <span class="type">int</span> age;    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;        </span><br><span class="line">    System.out.println(<span class="string">&quot;Name: &quot;</span> + getName() + <span class="string">&quot;, Age: &quot;</span> + getAge());    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>注解使用效果： 使用 @Getter 后，Lombok 会自动为 User 类的 name 和 age 字段生成对应的公共 getter 方法，这些方法可以在 display 方法中被调用。</li></ul><h3><span id="setter">@Setter</span><a href="#setter" class="header-anchor">#</a></h3><p>为类中的每个字段生成公共 setter 方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;    </span><br><span class="line"><span class="meta">@Getter</span> <span class="keyword">private</span> String name;    </span><br><span class="line">    <span class="meta">@Getter</span> <span class="keyword">private</span> <span class="type">int</span> age;    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;        </span><br><span class="line">    System.out.println(<span class="string">&quot;Name: &quot;</span> + getName() + <span class="string">&quot;, Age: &quot;</span> + getAge());    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>注解使用效果： 使用 @Setter 后，Lombok 会自动为 User 类的 name 和 age 字段生成对应的公共 setter 方法，这些方法可以在 updateDetails 方法中被调用.</li></ul><h3><span id="tostring">@ToString</span><a href="#tostring" class="header-anchor">#</a></h3><p>为类生成 toString 方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;    </span><br><span class="line"><span class="meta">@ToString</span> <span class="keyword">private</span> String name;    </span><br><span class="line">    <span class="meta">@ToString</span> <span class="keyword">private</span> <span class="type">int</span> age;    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printUser</span><span class="params">()</span> &#123;        </span><br><span class="line">    System.out.println(<span class="built_in">this</span>);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>注解使用效果： 使用 @ToString 后，Lombok 会自动为 User 类生成一个包含 name 和 age 字段的 toString 方法，该方法可以在 printUser 方法中被调用。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;lombok使用&lt;/p&gt;
&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#ji-ben-zhu-jie&quot;&gt;基本注解&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#getter&quot;&gt;@Getter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;</summary>
      
    
    
    
    <category term="技术研发" scheme="http://kiddoliu.github.io/categories/%E6%8A%80%E6%9C%AF%E7%A0%94%E5%8F%91/"/>
    
    
    <category term="JAVA" scheme="http://kiddoliu.github.io/tags/JAVA/"/>
    
  </entry>
  
  <entry>
    <title>ideavim配置</title>
    <link href="http://kiddoliu.github.io/2025/05/20/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    <id>http://kiddoliu.github.io/2025/05/20/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</id>
    <published>2025-05-20T12:31:00.000Z</published>
    <updated>2025-05-20T12:46:44.537Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ideavim-pei-zhi-xiang-guan">ideavim配置相关</span><a href="#ideavim-pei-zhi-xiang-guan" class="header-anchor">#</a></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">&quot; ~/.ideavimrc - IdeaVim 配置模板</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 基础设置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set showmatch</span><br><span class="line">set hlsearch</span><br><span class="line">set incsearch</span><br><span class="line">set ignorecase</span><br><span class="line">set smartcase</span><br><span class="line">set history=10000</span><br><span class="line">set clipboard=unnamedplus</span><br><span class="line">set noerrorbells</span><br><span class="line">set undolevels=10000</span><br><span class="line">set sidescroll=1</span><br><span class="line">set showmode</span><br><span class="line">set list</span><br><span class="line">set listchars=tab:▸\ ,trail:·,extends:»,precedes:«,nbsp:×</span><br><span class="line">set keep-english-in-normal</span><br><span class="line"></span><br><span class="line">&quot; 相对行号（可选，按需开启）</span><br><span class="line">&quot; set relativenumber</span><br><span class="line">&quot; set number</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 光标和高亮</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">highlight CursorLine term=underline cterm=underline guibg=Grey10</span><br><span class="line">nnoremap n nzz</span><br><span class="line">nnoremap N Nzz</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 常用快捷键映射</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">let mapleader=&quot; &quot;</span><br><span class="line"></span><br><span class="line">nnoremap Y y$</span><br><span class="line">nnoremap D &quot;_d$</span><br><span class="line">nnoremap C c$</span><br><span class="line">nnoremap d &quot;_d</span><br><span class="line">nnoremap gh ^</span><br><span class="line">nnoremap gl $</span><br><span class="line">nnoremap yl 0v$y</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 多光标支持（多光标插件）</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set multiple-cursors</span><br><span class="line">let g:multi_cursor_use_default_mapping = 0</span><br><span class="line">let g:multi_cursor_start_word_key = &#x27;&lt;C-n&gt;&#x27;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; Easymotion 设置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set easymotion</span><br><span class="line">nmap ss &lt;Plug&gt;(easymotion-s2)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 高亮复制</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set highlightedyank</span><br><span class="line">let g:highlightedyank_highlight_duration = 2000</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; Text Object 插件配置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set textobj-entire</span><br><span class="line">set argtextobj</span><br><span class="line">let g:argtextobj_pairs = &quot;[:],(:),&lt;:&gt;&quot;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 注释插件</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set commentary</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 文件树 NERDTree</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set NERDTree</span><br><span class="line">nnoremap gr :NERDTreeFocus&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; IntelliJ IDEA 操作映射</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">function! FormatAndOptimize()</span><br><span class="line">  :action OptimizeImports</span><br><span class="line">  :action ReformatCode</span><br><span class="line">endfunction</span><br><span class="line">nnoremap &lt;leader&gt;F :call FormatAndOptimize()&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;f :action ReformatCode&lt;CR&gt;&lt;Esc&gt;</span><br><span class="line">nnoremap &lt;leader&gt;r :action RenameElement&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;c &lt;C-W&gt;c</span><br><span class="line">nnoremap &lt;leader&gt;v &lt;C-W&gt;v</span><br><span class="line">nnoremap &lt;leader&gt;h :action ShowIntentionActions&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;q :action QuickFix&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;t :action SurroundWith&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;c :action CodeCompletion&lt;CR&gt;</span><br><span class="line">noremap  &lt;leader&gt;R :action CopyReferencePopupGroup&lt;CR&gt;</span><br><span class="line">noremap  &lt;leader&gt;n :action RenameFile&lt;CR&gt;</span><br><span class="line">noremap  &lt;leader&gt;pd :action MemberPushDown&lt;CR&gt;</span><br><span class="line">noremap  &lt;leader&gt;pu :action MembersPullUp&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 显示相关</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">nnoremap sr :action RecentFiles&lt;CR&gt;</span><br><span class="line">nnoremap sj :action QuickJavaDoc&lt;CR&gt;</span><br><span class="line">nnoremap su :action ShowUsages&lt;CR&gt;</span><br><span class="line">nnoremap so :action FileStructurePopup&lt;CR&gt;</span><br><span class="line">map smp &lt;Action&gt;(ParameterInfo)</span><br><span class="line">nnoremap sb :action ShowBookmarks&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 跳转相关</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">nnoremap gj  :action JumpToLastChange&lt;CR&gt;</span><br><span class="line">nnoremap gt  :action GotoNextHighlightedError&lt;CR&gt;</span><br><span class="line">nnoremap ggc gg/class&lt;CR&gt;</span><br><span class="line">nnoremap gi  :action GotoImplementation&lt;CR&gt;</span><br><span class="line">nnoremap gu  :action GotoSuperMethod&lt;CR&gt;</span><br><span class="line">noremap  gd  :action GotoDeclaration&lt;CR&gt;</span><br><span class="line">nnoremap ga  :action GotoAction&lt;CR&gt;</span><br><span class="line">nnoremap gmf :action Forward&lt;CR&gt;</span><br><span class="line">noremap  glm :action MethodUp&lt;CR&gt;</span><br><span class="line">noremap  gnm :action MethodDown&lt;CR&gt;</span><br><span class="line">nnoremap gb  :action Back&lt;CR&gt;</span><br><span class="line">nmap    ge   &lt;action&gt;(GotoNextError)</span><br><span class="line">map     gp   &lt;Action&gt;(SelectInProjectView)</span><br><span class="line">nnoremap gs  :action SearchEverywhere&lt;CR&gt;</span><br><span class="line">noremap  gU  :action Toolkit.GotoService&lt;CR&gt;</span><br><span class="line">noremap  gt  :action ActivateTerminalToolWindow&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 运行相关</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">nnoremap dr :action ChooseDebugConfiguration&lt;CR&gt;</span><br><span class="line">nnoremap cb :action ToggleLineBreakpoint&lt;CR&gt;</span><br><span class="line">nnoremap rr :action ChooseRunConfiguration&lt;CR&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ideavim-pei-zhi-xiang-guan&quot;&gt;ideavim配置相关&lt;/span&gt;&lt;a href=&quot;#ideavim-pei-zhi-xiang-guan&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;&lt;figure cl</summary>
      
    
    
    
    <category term="技术研发" scheme="http://kiddoliu.github.io/categories/%E6%8A%80%E6%9C%AF%E7%A0%94%E5%8F%91/"/>
    
    
    <category term="开发效率" scheme="http://kiddoliu.github.io/tags/%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87/"/>
    
  </entry>
  
  <entry>
    <title>Mysql 5.7离线安装</title>
    <link href="http://kiddoliu.github.io/2024/04/02/Mysql-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85/"/>
    <id>http://kiddoliu.github.io/2024/04/02/Mysql-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85/</id>
    <published>2024-04-02T07:47:00.000Z</published>
    <updated>2025-06-17T14:56:35.442Z</updated>
    
    <content type="html"><![CDATA[<p>MYSQL安装</p><div class="toc"><!-- toc --><!-- tocstop --></div><h4><span id="xia-zai-mysql-an-zhuang-bao">下载mysql安装包</span><a href="#xia-zai-mysql-an-zhuang-bao" class="header-anchor">#</a></h4><p>下载地址<br><a href="http://mirrors.sohu.com/mysql/MySQL-5.7/mysql-5.7.36-linux-glibc2.12-x86_64.tar">http://mirrors.sohu.com/mysql/MySQL-5.7/mysql-5.7.36-linux-glibc2.12-x86_64.tar</a></p><h4><span id="jie-ya-an-zhuang-bao">解压安装包</span><a href="#jie-ya-an-zhuang-bao" class="header-anchor">#</a></h4><p>mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz上传到&#x2F;opt&#x2F;下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cd /opt</span><br><span class="line"></span><br><span class="line">tar -xvf mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz</span><br><span class="line"></span><br><span class="line">mv mysql-5.7.36-linux-glibc2.12-x86_64 mysql</span><br><span class="line"></span><br><span class="line">ln -s mysql-5.7.36-linux-glibc2.12-x86_64/ mysql</span><br><span class="line"></span><br><span class="line">groupadd mysql</span><br><span class="line"></span><br><span class="line">useradd -g mysql mysql</span><br><span class="line"></span><br><span class="line">cp /etc/my.cnf.bak /etc/my.cnf</span><br><span class="line"></span><br><span class="line">chmod 775 /etc/my.cnf</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4><span id="xiu-gai-pei-zhi-wen-jian">修改配置文件</span><a href="#xiu-gai-pei-zhi-wen-jian" class="header-anchor">#</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/my.cnf</span><br><span class="line">[mysqld]</span><br><span class="line"># 配置MySQL的主目录</span><br><span class="line">basedir=/opt/mysql/</span><br><span class="line"># 配置MySQL的数据目录</span><br><span class="line">datadir=/opt/mysql/data/ </span><br><span class="line">socket=/tmp/mysql.sock</span><br><span class="line">user=mysql</span><br><span class="line">tmpdir=/tmp</span><br><span class="line">symbolic-links=0</span><br><span class="line">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class="line">character_set_server=utf8</span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line">[mysqld_safe]</span><br><span class="line"># 配置MySQL的错误日志文件路径</span><br><span class="line">log-error=/opt/mysql/data/error.log</span><br><span class="line"># 配置MySQL的数pid文件路径</span><br><span class="line">pid-file=/opt/mysql/mysql.pid </span><br></pre></td></tr></table></figure><h4><span id="an-zhuang-pei-zhi-shu-ju-ku">安装配置数据库</span><a href="#an-zhuang-pei-zhi-shu-ju-ku" class="header-anchor">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/mysql</span><br><span class="line">mkdir data</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将MySQL的主目录的所有权改为mysql用户</span></span><br><span class="line">chown -R mysql:mysql /opt/mysql/</span><br><span class="line"></span><br><span class="line">cd /opt/mysql/bin/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编译安装并初始化mysql命令执行完后务必记住数据库管理员临时密码</span></span><br><span class="line">./mysqld --initialize --user=mysql --datadir=/opt/mysql/data --basedir=/opt/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将mysql/目录下所有文件，所有权都改回root用户</span></span><br><span class="line">cd /opt/mysql</span><br><span class="line">chown -R root .</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将mysql用户只需作为mysql/data/目录下所有文件的所有者</span></span><br><span class="line">chown -R mysql data</span><br></pre></td></tr></table></figure><h4><span id="zhi-zuo-mysql-qi-dong-wen-jian">制作mysql启动文件</span><a href="#zhi-zuo-mysql-qi-dong-wen-jian" class="header-anchor">#</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"># 拷贝启动文件，并改名为mysqld</span><br><span class="line">cp support-files/mysql.server /etc/init.d/mysqld</span><br><span class="line"></span><br><span class="line"># 设置启动文件的权限</span><br><span class="line">chmod 755 /etc/init.d/mysqld</span><br><span class="line">cp bin/my_print_defaults /usr/bin/</span><br><span class="line">vi /etc/init.d/mysqld</span><br><span class="line"></span><br><span class="line"># 添加如下代码</span><br><span class="line"># 配置MySQL的主目录</span><br><span class="line">basedir=/opt/mysql/</span><br><span class="line"># 配置MySQL的数据目录</span><br><span class="line">datadir=/opt/mysql/data/</span><br><span class="line"># 配置MySQL的端口</span><br><span class="line">port=3306</span><br><span class="line"></span><br><span class="line"># 5个位置的/usr/local/mysql全部修改成/opt/mysql</span><br><span class="line">then</span><br><span class="line">  basedir=/opt/mysql</span><br><span class="line">  bindir=/opt/mysql/bin</span><br><span class="line">  if test -z &quot;$datadir&quot;</span><br><span class="line">  then</span><br><span class="line">    datadir=/opt/mysql/data</span><br><span class="line">  fi</span><br><span class="line">  sbindir=/opt/mysql/bin</span><br><span class="line">  libexecdir=/opt/mysql/bin</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"># 配置环境变量文件”/etc/profile“</span><br><span class="line">vi /etc/profile</span><br><span class="line"># 将MySQL主目录下面的bin目录加入到PATH环境变量</span><br><span class="line">export PATH=$PATH:/opt/mysql/bin</span><br><span class="line">  </span><br><span class="line"># 执行设置执行环境变量文件</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h4><span id="qi-dong-mysql-fu-wu">启动MySQL服务</span><a href="#qi-dong-mysql-fu-wu" class="header-anchor">#</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br><span class="line">mysql -uroot -p ,输入密码</span><br></pre></td></tr></table></figure><h4><span id="xiu-gai-mysql-pei-zhi">修改MySQL配置</span><a href="#xiu-gai-mysql-pei-zhi" class="header-anchor">#</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">alter user user() identified by &#x27;&#x27;;</span><br><span class="line"># 修改密码</span><br><span class="line">use mysql;</span><br><span class="line">update user set authentication_string=password(&quot;root123&quot;) where user=&quot;root&quot;;</span><br><span class="line"># 刷新权限</span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line"></span><br><span class="line"># 给root用户开启远程登录权限</span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;ht8864488&#x27; WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><h4><span id="xiu-gai-fang-huo-qiang-pei-zhi">修改防火墙配置</span><a href="#xiu-gai-fang-huo-qiang-pei-zhi" class="header-anchor">#</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 授权3306端口号权限</span><br><span class="line">firewall-cmd --zone=public --add-port=3306/tcp --permanent</span><br><span class="line"># 重启防火墙，执行命令:</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h4><span id="jia-ru-mysql-zi-qi-dong">加入mysql自启动</span><a href="#jia-ru-mysql-zi-qi-dong" class="header-anchor">#</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#增加mysql服务控制脚本执行权限</span><br><span class="line">chmod +x /etc/rc.d/init.d/mysqld</span><br><span class="line"></span><br><span class="line">#将mysqld服务加入到系统服务</span><br><span class="line">chkconfig --add mysqld</span><br><span class="line">chkconfig --list mysqld</span><br><span class="line"></span><br><span class="line"># 看服务器MySQL运行状态</span><br><span class="line">systemctl status mysql</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;MYSQL安装&lt;/p&gt;
&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;



&lt;!-- tocstop --&gt;

&lt;/div&gt;

&lt;h4&gt;&lt;span id=&quot;xia-zai-mysql-an-zhuang-bao&quot;&gt;下载mysql安装包&lt;/span&gt;&lt;a h</summary>
      
    
    
    
    <category term="数据库" scheme="http://kiddoliu.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="mysql" scheme="http://kiddoliu.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>Oracle基本操作(用户,表空间,备份)</title>
    <link href="http://kiddoliu.github.io/2023/12/23/Oracle%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>http://kiddoliu.github.io/2023/12/23/Oracle%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</id>
    <published>2023-12-23T03:32:00.000Z</published>
    <updated>2023-12-23T05:32:42.571Z</updated>
    
    <content type="html"><![CDATA[<p>Oracle基本操作(用户,表空间,备份)</p><div class="toc"><!-- toc --><ul><li><a href="#yong-hu">用户</a></li><li><a href="#biao-kong-jian">表空间</a></li><li><a href="#shu-ju-bei-fen-hui-fu">数据备份恢复</a></li></ul><!-- tocstop --></div><h3><span id="yong-hu">用户</span><a href="#yong-hu" class="header-anchor">#</a></h3><h5><span id="gai-nian">概念</span><a href="#gai-nian" class="header-anchor">#</a></h5><ul><li>oracle中每一个用户对应一个schama，所有的表都归属在相关的用户下</li><li>每个用户都对应着自己的默认表空间，该用户建立的表会存储在对应的默认表空间里。</li><li>删除用户意味着删除该用户所有的对象，包括表，索引等</li></ul><h4><span id="ju-ti-cao-zuo">具体操作</span><a href="#ju-ti-cao-zuo" class="header-anchor">#</a></h4><ul><li>新增用户<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user WHHH identified by WHHH account unlock</span><br></pre></td></tr></table></figure></li><li>用户赋权<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant connect ,resource,dba to WHHH;</span><br></pre></td></tr></table></figure></li><li>删除用户以及用户的表<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop user WHHH cascade;</span><br></pre></td></tr></table></figure></li><li>查询属于该用户的表<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select table_name from dba_tables where owner = &#x27;YS&#x27;;</span><br></pre></td></tr></table></figure></li></ul><h3><span id="biao-kong-jian">表空间</span><a href="#biao-kong-jian" class="header-anchor">#</a></h3><h5><span id="gai-nian">概念</span><a href="#gai-nian" class="header-anchor">#</a></h5><ul><li>可以认为表空间就是为了管理这些数据文件，而引入的中间逻辑层，可以表空间上看数据占用的大小，以及有哪些表在这个表空间上，以及具体的所属人员</li><li>一个表空间可以包括多个数据文件，数据文件上存储着具体的数据</li></ul><h4><span id="ju-ti-xiang-guan-cao-zuo">具体相关操作</span><a href="#ju-ti-xiang-guan-cao-zuo" class="header-anchor">#</a></h4><ul><li><p>查看数据库有哪些表空间</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from Dba_Tablespaces;</span><br></pre></td></tr></table></figure></li><li><p>创建表空间</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create tablespace LQ_INDEX datafile &#x27;/home/oracle/app/oracle/oradata/helowin/lG08.dbf&#x27; size 100M autoextend on next 200M maxsize 10000M</span><br></pre></td></tr></table></figure><p>创建表空间的 LQ_INDEX<br>表空间的数据文件是：home&#x2F;oracle&#x2F;app&#x2F;oracle&#x2F;oradata&#x2F;helowin&#x2F;lG08.dbf’<br>大小为：100M<br>到达100后自动扩展200M<br>最大为 10000M</p></li><li><p>查询所有表空间占用数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">select *</span><br><span class="line">from (Select a.tablespace_name,</span><br><span class="line">             (a.bytes - b.bytes)                                       &quot;表空间使用大小(BYTE)&quot;,</span><br><span class="line">             a.bytes / (1024 * 1024 * 1024)                            &quot;表空间大小(GB)&quot;,</span><br><span class="line">             b.bytes / (1024 * 1024 * 1024)                            &quot;表空间剩余大小(GB)&quot;,</span><br><span class="line">             (a.bytes - b.bytes) / (1024 * 1024 * 1024)                &quot;表空间使用大小(GB)&quot;,</span><br><span class="line">             to_char((1 - b.bytes / a.bytes) * 100, &#x27;99.99999&#x27;) || &#x27;%&#x27; &quot;使用率&quot;</span><br><span class="line">      from (select tablespace_name,</span><br><span class="line">                   sum(bytes) bytes</span><br><span class="line">            from dba_data_files</span><br><span class="line">            group by tablespace_name) a,</span><br><span class="line">           (select tablespace_name,</span><br><span class="line">                   sum(bytes) bytes</span><br><span class="line">            from dba_free_space</span><br><span class="line">            group by tablespace_name) b</span><br><span class="line">      where a.tablespace_name = b.tablespace_name</span><br><span class="line">      union all</span><br><span class="line">      select c.tablespace_name,</span><br><span class="line">             d.bytes_used                                             &quot;表空间使用大小(BYTE)&quot;,</span><br><span class="line">             c.bytes / (1024 * 1024 * 1024)                           &quot;表空间大小(GB)&quot;,</span><br><span class="line">             (c.bytes - d.bytes_used) / (1024 * 1024 * 1024)          &quot;表空间剩余大小(GB)&quot;,</span><br><span class="line">             d.bytes_used / (1024 * 1024 * 1024)                      &quot;表空间使用大小(GB)&quot;,</span><br><span class="line">             to_char(d.bytes_used * 100 / c.bytes, &#x27;99.99999&#x27;) || &#x27;%&#x27; &quot;使用率&quot;</span><br><span class="line">      from (select tablespace_name, sum(bytes) bytes</span><br><span class="line">            from dba_temp_files</span><br><span class="line">            group by tablespace_name) c,</span><br><span class="line">           (select tablespace_name, sum(bytes_cached) bytes_used</span><br><span class="line">            from v$temp_extent_pool</span><br><span class="line">            group by tablespace_name) d</span><br><span class="line">      where c.tablespace_name = d.tablespace_name)</span><br><span class="line">order by tablespace_name;</span><br></pre></td></tr></table></figure></li><li><p>查询每个表占用的表空间的大小</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select *</span><br><span class="line">from (select t.tablespace_name, t.owner, t.segment_name, t.segment_type, sum(t.bytes / 1024 / 1024) mb</span><br><span class="line">      from dba_segments t</span><br><span class="line">      where t.segment_type = &#x27;TABLE&#x27;</span><br><span class="line">      group by t.tablespace_name, t.OWNER, t.segment_name, t.segment_type) t</span><br><span class="line">order by t.mb desc</span><br></pre></td></tr></table></figure></li><li><p>查询表空间的数据文件名字以及大小</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT T.TABLESPACE_NAME,D.FILE_NAME,</span><br><span class="line">D.AUTOEXTENSIBLE,D.BYTES,D.MAXBYTES,D.STATUS</span><br><span class="line">FROM DBA_TABLESPACES T,DBA_DATA_FILES D</span><br><span class="line">WHERE T.TABLESPACE_NAME =D.TABLESPACE_NAME</span><br><span class="line">ORDER BY TABLESPACE_NAME,FILE_NAME</span><br></pre></td></tr></table></figure></li><li><p>查询表空间上有哪些对象</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">SELECT OWNER      AS OWNER</span><br><span class="line">     , &#x27;TABLE&#x27;    AS SEGMENT_TYPE</span><br><span class="line">     , TABLE_NAME AS SEGMENT_NAME</span><br><span class="line">FROM DBA_TABLES</span><br><span class="line">WHERE TABLESPACE_NAME = &#x27;UY_NEW&#x27;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT OWNER      AS OWNER</span><br><span class="line">     , &#x27;INDEX&#x27;    AS SEGMENT_TYPE</span><br><span class="line">     , INDEX_NAME AS SEGMETN_NAME</span><br><span class="line">FROM DBA_INDEXES</span><br><span class="line">WHERE TABLESPACE_NAME = &#x27;UY_NEW&#x27;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT OWNER        AS OWNER</span><br><span class="line">     , &#x27;LOBSEGMENT&#x27; AS SGEMENT_TYPE</span><br><span class="line">     , SEGMENT_NAME AS SEGMENT_NAME</span><br><span class="line">FROM DBA_LOBS</span><br><span class="line">WHERE TABLESPACE_NAME = &#x27;UY_NEW&#x27;;</span><br></pre></td></tr></table></figure></li><li><p>表空间扩容</p></li></ul><p>方法一：增大所需表空间大小</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter database datafile &#x27;表空间的文件路径&#x27; resize 改变后的大小</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter database datafile &#x27;C:\ORACLE\ORADATA\ORCL\USERS02.DBF&#x27; resize 3G</span><br></pre></td></tr></table></figure><p>方法二： 新增数据文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter tablespace 表空间名</span><br><span class="line">add datafile &#x27;存放路径&#x27;</span><br><span class="line">size 大小 autoextend on next 50M maxsize unlimited;</span><br></pre></td></tr></table></figure><p>示例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter tablespace USERS</span><br><span class="line">add datafile &#x27;C:\ORACLE\ORADATA\ORCL\USERS03.DBF&#x27;</span><br><span class="line">size 1024M autoextend on next 50M maxsize unlimited;</span><br></pre></td></tr></table></figure><ul><li>修改表空间名称<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter tablespace adf rename to adf_new</span><br></pre></td></tr></table></figure></li></ul><h3><span id="shu-ju-bei-fen-hui-fu">数据备份恢复</span><a href="#shu-ju-bei-fen-hui-fu" class="header-anchor">#</a></h3><ul><li>exp&#x2F;imp<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp SONIC/SONIC BUFFER=64000 FILE=C:\SONIC.DMP OWNER=SONIC FULL=Y</span><br></pre></td></tr></table></figure>使用用户名 SONIC<br>使用密码 SONIC<br>导出 SONIC<br>的所有对象</li></ul><p>（1）表方式，将指定表的数据导出&#x2F;导入。导出：</p><ul><li><p>导出一张或几张表：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp user/pwd file=/dir/xxx.dmp log=xxx.log tables=table1,table2</span><br></pre></td></tr></table></figure></li><li><p>导出某张表的部分数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp user/pwd file=/dir/xxx.dmp log=xxx.log tables=table1 query=\”where col1=\’…\’ and col2 \&lt;…\”</span><br></pre></td></tr></table></figure></li><li><p>导入一张或几张表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imp user/pwd file=/dir/xxx.dmp log=xxx.log tables=table1,table2 fromuser=dbuser touser=dbuser2 commit=y ignore=y</span><br></pre></td></tr></table></figure><p>（2）用户方式，将指定用户的所有对象及数据导出&#x2F;导入。</p></li><li><p>导出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ exp user/pwd file=/dir/xxx.dmp log=xxx.log owner=(xx,yy)</span><br></pre></td></tr></table></figure><p>只导出数据对象，不导出数据 (rows&#x3D;n )</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp user/pwd file=/dir/xxx.dmp log=xxx.log owner=user rows=n</span><br></pre></td></tr></table></figure></li><li><p>导入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imp user/pwd file=/dir/xxx.dmp log=xxx.log fromuser=dbuser touser=dbuser2 commit=y ignore=y</span><br></pre></td></tr></table></figure><p>（3）全库方式，将数据库中的所有对象导出&#x2F;导入导出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp user/pwd file=/dir/xxx.dmp log=xxx.log full=y commit=y ignore=y</span><br></pre></td></tr></table></figure></li><li><p>导入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imp user/pwd file=/dir/xxx.dmp log=xxx.log fromuser=dbuser touser=dbuser2</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Oracle基本操作(用户,表空间,备份)&lt;/p&gt;
&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#yong-hu&quot;&gt;用户&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#biao-kong-jian&quot;&gt;表空间&lt;/a&gt;&lt;</summary>
      
    
    
    
    <category term="数据库" scheme="http://kiddoliu.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="oracle" scheme="http://kiddoliu.github.io/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>mongodb基础</title>
    <link href="http://kiddoliu.github.io/2022/12/04/mongodb%E5%9F%BA%E7%A1%80/"/>
    <id>http://kiddoliu.github.io/2022/12/04/mongodb%E5%9F%BA%E7%A1%80/</id>
    <published>2022-12-04T03:14:40.000Z</published>
    <updated>2023-12-23T04:09:20.429Z</updated>
    
    <content type="html"><![CDATA[<p>mongodb</p><div class="toc"><!-- toc --><ul><li><a href="#xiang-guan-gai-nian">相关概念</a></li><li><a href="#shu-ju-ku-xiang-guan-cao-zuo">数据库相关操作</a><ul><li><a href="#mongodb-chuang-jian-shu-ju">mongoDB 创建数据</a></li><li><a href="#shan-chu-shu-ju-ku">删除数据库</a></li><li><a href="#xian-shi-dang-qian-shu-ju-ku">显示当前数据库</a></li></ul></li><li><a href="#ji-he-xiang-guan-cao-zuo">集合相关操作</a><ul><li><a href="#wen-dang-xiang-guan-cao-zuo-biao">文档相关操作（表）</a></li></ul></li></ul><!-- tocstop --></div><h2><span id="xiang-guan-gai-nian">相关概念</span><a href="#xiang-guan-gai-nian" class="header-anchor">#</a></h2><table><thead><tr><th>sql</th><th>mongo术语</th><th>解释&#x2F;说</th></tr></thead><tbody><tr><td>database</td><td>database</td><td>数据库</td></tr><tr><td>tablse</td><td>collection</td><td>数据库表&#x2F;集合</td></tr><tr><td>column</td><td>field</td><td>数据记录行&#x2F;文档</td></tr><tr><td>index</td><td>index</td><td>索引</td></tr><tr><td>table joins</td><td></td><td>表连接&#x2F;MongoDB不支持</td></tr><tr><td>primary key</td><td>primiry key</td><td>主键，MongoDB自动将_id字段设置为主键</td></tr></tbody></table><ul><li><p>启动程序<br>mongod:<br>1, –dbpath &#x2F;&#x2F; 指定数据文件路径 –port  &#x2F;&#x2F; 指定端口</p></li><li><p>连接字符串：<br>mongodb:&#x2F;&#x2F;admin:123456@localhost,localhost:27018,localhost:27019&#x2F;?slaveOk&#x3D;true&#x2F;?slaveOk&#x3D;true</p><blockquote><p>使用用户名：admin 密码：123456</p></blockquote></li></ul><h2><span id="shu-ju-ku-xiang-guan-cao-zuo">数据库相关操作</span><a href="#shu-ju-ku-xiang-guan-cao-zuo" class="header-anchor">#</a></h2><h3><span id="mongodb-chuang-jian-shu-ju">mongoDB 创建数据</span><a href="#mongodb-chuang-jian-shu-ju" class="header-anchor">#</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use DATABASE_NAME;</span><br><span class="line">show dbs; //显示目前的数据库（只有有数据的才会被现实）</span><br></pre></td></tr></table></figure><h3><span id="shan-chu-shu-ju-ku">删除数据库</span><a href="#shan-chu-shu-ju-ku" class="header-anchor">#</a></h3><p>必须要进入到数据库中才可以执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名字</span><br><span class="line">db.dropDatabase();</span><br></pre></td></tr></table></figure><h3><span id="xian-shi-dang-qian-shu-ju-ku">显示当前数据库</span><a href="#xian-shi-dang-qian-shu-ju-ku" class="header-anchor">#</a></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">db</span></span><br><span class="line">abc</span><br></pre></td></tr></table></figure><h2><span id="ji-he-xiang-guan-cao-zuo">集合相关操作</span><a href="#ji-he-xiang-guan-cao-zuo" class="header-anchor">#</a></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.createCollection(name, options)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>name: 要创建的集合名称</li><li>options: 可选参数, 指定有关内存大小及索引的选项<br>options 可以是如下参数：、</li></ul><table><thead><tr><th>字段</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>capped</td><td>布尔型</td><td>（可选）如果为 true，则创建固定集合。固定集合是指有着固定大小的集合，当达到最大值时，它会自动覆盖最早的文档。</td></tr><tr><td>当该值为 true 时，必须指定 size 参数。</td><td></td><td></td></tr><tr><td>autoIndexId</td><td>布尔型</td><td>3.2后不再支持这个参数</td></tr><tr><td>size</td><td>数值</td><td>（可选）为固定集合指定一个最大值，即字节数。如果 capped 为 true，也需要指定该字段。</td></tr><tr><td>max</td><td>数值</td><td>（可选）指定固定集合中包含文档的最大数量。</td></tr></tbody></table><ul><li><p>创建collections:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; use test</span><br><span class="line">switched to db test</span><br><span class="line">&gt; db.createCollection(&quot;runoob&quot;)</span><br><span class="line">&#123; &quot;ok&quot; : 1 &#125;</span><br><span class="line">&gt; show collections</span><br><span class="line">runoob</span><br><span class="line"></span><br><span class="line">&gt; db.createCollection(&quot;mycol&quot;, &#123; capped : true, autoIndexId : true, size : </span><br><span class="line">   6142800, max : 10000 &#125; )</span><br><span class="line">mycol</span><br><span class="line">runoob</span><br></pre></td></tr></table></figure></li><li><p>MongoDB 删除集合(表)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;use mydb</span><br><span class="line">switched to db mydb</span><br><span class="line">&gt;show collections</span><br><span class="line">mycol</span><br><span class="line">mycol2</span><br><span class="line">system.indexes</span><br><span class="line">runoob</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ul><h3><span id="wen-dang-xiang-guan-cao-zuo-biao">文档相关操作（表）</span><a href="#wen-dang-xiang-guan-cao-zuo-biao" class="header-anchor">#</a></h3><ul><li>插入数据<ul><li><p>插入一条数据</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">db.collection.insertMany(</span><br><span class="line">  [ &lt;document 1&gt; , &lt;document 2&gt;, ... ],</span><br><span class="line"> &#123;</span><br><span class="line">    writeConcern: &lt;document&gt;,</span><br><span class="line">    ordered: &lt;boolean&gt;</span><br><span class="line"> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ul><li>document：要写入的文档。</li><li>writeConcern：写入策略，默认为 1，即要求确认写操作，0 是不要求。</li><li>ordered：指定是否按顺序写入，默认 true，按顺序写入。</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>插入多条数据</p></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;mongodb&lt;/p&gt;
&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#xiang-guan-gai-nian&quot;&gt;相关概念&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#shu-ju-ku-xiang-guan-cao</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>vim文本对象</title>
    <link href="http://kiddoliu.github.io/2022/11/26/vim%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1/"/>
    <id>http://kiddoliu.github.io/2022/11/26/vim%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1/</id>
    <published>2022-11-26T03:09:00.000Z</published>
    <updated>2023-10-26T09:15:30.459Z</updated>
    
    <content type="html"><![CDATA[<div class="toc"><!-- toc --><ul><li><a href="#shi-me-shi-vim-de-wen-ben-dui-xiang">什么是vim的文本对象</a></li><li><a href="#wen-ben-dui-xiang-du-bao-gua-na-xie-du-shi-shi-me">文本对象都包括那些，都是什么</a></li></ul><!-- tocstop --></div><h3><span id="shi-me-shi-vim-de-wen-ben-dui-xiang">什么是vim的文本对象</span><a href="#shi-me-shi-vim-de-wen-ben-dui-xiang" class="header-anchor">#</a></h3><p>  vim文本对象就是你要操作的实体，这个实体可以是一个单词，一个段落，一个程序编码的参数，甚至是整个文章。</p><p>例如：w 在vim中代表一个单词，例如 daw d：这里是指delete, a:是指arround, w:这里指单词<br>daw，就是删除当前光标所在字母的单词，a：意思是删除这个单词外加它后边的一个空格<br>This is a big building;<br>如果光标位于big的b上，big[空格]   会被删除<br>后会变成：<br>This is a building;</p><h3><span id="wen-ben-dui-xiang-du-bao-gua-na-xie-du-shi-shi-me">文本对象都包括那些，都是什么</span><a href="#wen-ben-dui-xiang-du-bao-gua-na-xie-du-shi-shi-me" class="header-anchor">#</a></h3><table><thead><tr><th>文本对象</th><th>具体含义</th></tr></thead><tbody><tr><td>w&#x2F;W</td><td>word&#x2F;Word:代表一个单词，小写代表单词的分割是特殊符号，大写单词的分隔符是空格例如：cde#abc abc 这里在小写w开来就是两个w，我们把光标定位到c上写一个【daw】 那么只能删除cde,如果我们想删除cde#abc 的时候就要输入【daW】</td></tr><tr><td>t</td><td>tag:整个标签html标签</td></tr><tr><td>s</td><td>sentence:代表一行</td></tr><tr><td>p</td><td>paragraph 代表一个段落，所谓段落就是有空行间隔就叫做一个段落</td></tr><tr><td>e</td><td>entire 代表文章全部,vim默认是没有的，这里需要安装：textobj-entire插件</td></tr><tr><td>a</td><td>arguments:代表一个方法的参数，这里需要安装 argtextobj 插件</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#shi-me-shi-vim-de-wen-ben-dui-xiang&quot;&gt;什么是vim的文本对象&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#wen-ben-dui-xian</summary>
      
    
    
    
    <category term="学习" scheme="http://kiddoliu.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="技术" scheme="http://kiddoliu.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="vi" scheme="http://kiddoliu.github.io/tags/vi/"/>
    
  </entry>
  
  <entry>
    <title>ddd</title>
    <link href="http://kiddoliu.github.io/2022/11/02/ddd/"/>
    <id>http://kiddoliu.github.io/2022/11/02/ddd/</id>
    <published>2022-11-02T14:28:47.000Z</published>
    <updated>2023-10-26T08:59:59.096Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">abc</span>&#123;</span><br><span class="line">System.out.print</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2022/11/02/ddd/ddd.jpg" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>blog-name</title>
    <link href="http://kiddoliu.github.io/2022/11/02/blog-name/"/>
    <id>http://kiddoliu.github.io/2022/11/02/blog-name/</id>
    <published>2022-11-02T14:27:00.000Z</published>
    <updated>2022-11-02T14:27:00.776Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>categories</title>
    <link href="http://kiddoliu.github.io/2022/11/02/categories/"/>
    <id>http://kiddoliu.github.io/2022/11/02/categories/</id>
    <published>2022-11-02T14:11:08.000Z</published>
    <updated>2022-11-02T14:11:08.488Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>cde</title>
    <link href="http://kiddoliu.github.io/2022/11/02/cde/"/>
    <id>http://kiddoliu.github.io/2022/11/02/cde/</id>
    <published>2022-11-02T11:07:29.000Z</published>
    <updated>2022-11-02T11:24:24.798Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="ni-hao-sadasd-sadsad">你好sadasd sadsad</span><a href="#ni-hao-sadasd-sadsad" class="header-anchor">#</a></h3>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;ni-hao-sadasd-sadsad&quot;&gt;你好sadasd sadsad&lt;/span&gt;&lt;a href=&quot;#ni-hao-sadasd-sadsad&quot; class=&quot;header-anchor&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>abc</title>
    <link href="http://kiddoliu.github.io/2022/11/02/abc/"/>
    <id>http://kiddoliu.github.io/2022/11/02/abc/</id>
    <published>2022-11-02T11:04:01.000Z</published>
    <updated>2022-11-08T14:04:51.254Z</updated>
    
    <content type="html"><![CDATA[<div class="toc"><!-- toc --><ul><li><a href="#abc">abc</a><ul><li><a href="#dddf">dddf</a></li></ul></li></ul><!-- tocstop --></div>## abc### dddf##### sdfsdf]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;toc&quot;&gt;

&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#abc&quot;&gt;abc&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#dddf&quot;&gt;dddf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;

&lt;</summary>
      
    
    
    
    <category term="学习" scheme="http://kiddoliu.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="技术" scheme="http://kiddoliu.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://kiddoliu.github.io/2022/11/02/hello-world/"/>
    <id>http://kiddoliu.github.io/2022/11/02/hello-world/</id>
    <published>2022-11-02T10:51:38.993Z</published>
    <updated>2022-11-02T10:51:38.993Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2><span id="quick-start">Quick Start</span><a href="#quick-start" class="header-anchor">#</a></h2><h3><span id="create-a-new-post">Create a new post</span><a href="#create-a-new-post" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3><span id="run-server">Run server</span><a href="#run-server" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3><span id="generate-static-files">Generate static files</span><a href="#generate-static-files" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3><span id="deploy-to-remote-sites">Deploy to remote sites</span><a href="#deploy-to-remote-sites" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
